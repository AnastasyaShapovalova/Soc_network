{"version":3,"sources":["redux/dialogs-reducer.js","api/api.js","components/Users/users.module.css","assets/images/user.png","assets/images/Spin-1s-200px.svg","components/Navbar/Navbar.module.css","redux/sidebar-reducer.js","utils/object-helpers.js","redux/users-reducer.js","redux/auth-reducer.js","redux/app-reducer.js","redux/redux-store.js","components/Navbar/Navbar.jsx","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","hoc/withSuspense.js","App.js","index.js","components/common/FormsControls/FormsControls.js","components/common/FormsControls/FormsControls.module.css","utils/validators/validators.js","components/common/Preloader/Preloader.js","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["initialState","dialogs","id","name","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","module","exports","sidebarReducer","updeteObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","SET_USER_DATA","isAuth","setAuthUserData","payload","getAuthUserData","authReducer","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","usersPage","auth","form","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","window","Navbar","className","classes","nav","item","active","to","activeClassName","activeLink","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","p","cn","selectedPage","pageNumber","key","e","User","user","src","photos","small","userPhoto","disabled","some","Users","props","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","Preloader","React","Component","compose","connect","bind","page","totalCount","Header","header","loginBlock","HeaderContainer","LoginReduxForm","reduxForm","handleSubmit","error","onSubmit","createField","required","Input","style","formSummaryError","length","stopSubmit","_error","formData","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","component","withRouter","promise","Promise","all","ReactDOM","document","getElementById","FormControl","input","meta","touched","children","hasError","formControl","Textarea","restProps","child","placeholder","validators","text","validate","value","maxLengthCreator","maxLength","backgroundColor","preLoader","posts","likesCount","profile","addPostActionCreator","newPostText","deletePostActionCreator","setStatus","getUserProfile","newPost"],"mappings":"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","file":"static/js/main.148fb49d.chunk.js","sourcesContent":["const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Nastya'},\r\n        {id: 2, name: 'Oleg'},\r\n        {id: 3, name: 'Pasha'},\r\n        {id: 4, name: 'Anya'},\r\n        {id: 5, name: 'Sveta'},\r\n        {id: 6, name: 'Diana'}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'How are you?'},\r\n        {id: 3, message: 'Darova'},\r\n        {id: 4, message: 'Darova'},\r\n        {id: 5, message: 'Darova'},\r\n        {id: 6, message: 'Darova'}\r\n    ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body =  action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6, message: body}]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const  sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody})\r\n\r\n\r\nexport default dialogsReducer;","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        \"API-KEY\": \"e10af01c-20d2-40f7-b79c-d371abe95f3d\"\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method.Please profileAPI object.')\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status} );\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__p7Tuk\",\"selectedPage\":\"users_selectedPage__1sYp2\"};","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/Spin-1s-200px.2921ebf6.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1oNBU\",\"item\":\"Navbar_item__JReAh\",\"activeLink\":\"Navbar_activeLink__2EFW7\"};","let initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","export const updeteObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n   return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import {usersAPI} from \"../api/api\";\r\nimport {updeteObjectInArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updeteObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updeteObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n            }\r\n\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.count}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId})\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount})\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n})\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'samurai-network/auth/SET_USER_DATA';\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA, payload:\r\n        {userId, email, login, isAuth}\r\n})\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n        dispatch(stopSubmit(\"login\", {_error: message}));\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\nexport default authReducer;","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess());\r\n        });\r\n}\r\n\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\nwindow.store = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport classes from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={classes.nav}>\r\n            <div className= {`${classes.item} ${classes.active}`}>\r\n                <NavLink to = \"/profile\" activeClassName={classes.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to  = \"/dialogs\" activeClassName={classes.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to  = \"/users\" activeClassName={classes.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to  = \"/news\">News</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to  = \"/music\">Music</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to  = \"/setting\">Setting</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React, {useState} from \"react\";\r\nimport styles from \"../Paginator/Paginator.module.css\"\r\nimport cn from \"classnames\";\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n    return <div className={styles.paginator}>\r\n        {portionNumber > 1 &&\r\n        <button onClick={() => {\r\n            setPortionNumber(portionNumber - 1)\r\n        }}> PREV </button>}\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map(p => {\r\n                return <span className={cn({\r\n                    [styles.selectedPage]: currentPage === p\r\n                }, styles.pageNumber)}\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                 onPageChanged(p)\r\n                             }}>{p}</span>\r\n            })\r\n        }\r\n        {portionCount > portionNumber &&\r\n        <button onClick={() => {\r\n            setPortionNumber(portionNumber + 1)\r\n        }}> NEXT </button>}\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport styles from \"./users.module.css\";\r\nimport  userPhoto from '../../assets/images/user.png'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({user, followingInProgress, unfollow, follow}) => {\r\n    return (\r\n       <div>\r\n                <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                             className={styles.userPhoto}/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {user.followed\r\n                            ? <button disabled={followingInProgress\r\n                                .some(id => id===user.id)}\r\n                                      onClick={() => {unfollow(user.id);}}>\r\n                                Unfollow</button>\r\n                            : <button disabled={followingInProgress.some(id => id===user.id)}\r\n                                      onClick={() => {follow(user.id);}}>\r\n                                Follow</button>}\r\n\r\n                    </div>\r\n                </span>\r\n                <span>\r\n                    <span>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{\"user.location.country\"}</div>\r\n                        <div>{\"user.location.city\"}</div>\r\n                    </span>\r\n                </span>\r\n            </div>)\r\n}\r\n\r\nexport default User;","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props}) => {\r\n\r\n    return <div>\r\n        <Paginator currentPage={currentPage} onPageChanged={onPageChanged}\r\n                   totalItemsCount={totalUsersCount} pageSize={pageSize}/>\r\n        <div>\r\n            {\r\n                users.map(u => <User user={u}\r\n                                     followingInProgress={props.followingInProgress}\r\n                                     key={u.id}\r\n                                     unfollow={props.unfollow}\r\n                                     follow={props.follow}\r\n                />)\r\n            }\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Users;","import {createSelector} from \"reselect\";\r\n\r\nconst getUsersSelector=  (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const  getUsers = createSelector( getUsersSelector,\r\n    (users) => {\r\n    return users.filter(u => true);\r\n})\r\n\r\nexport const getPageSize =  (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount =  (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage =  (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching =  (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress =  (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {\r\n    follow,\r\n    setCurrentPage,\r\n    unfollow, toggleFollowingProgress, requestUsers\r\n} from '../../redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount, getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props;\r\n        this.props.getUsers(currentPage, pageSize);\r\n\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props;\r\n        this.props.getUsers(pageNumber, pageSize);\r\n\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,\r\n        {\r\n            follow, unfollow, setCurrentPage,\r\n            toggleFollowingProgress, getUsers: requestUsers\r\n        })\r\n)(UsersContainer)","import React from 'react';\r\nimport classes from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={classes.header}>\r\n            <img\r\n                src='https://lh3.googleusercontent.com/proxy/TKGCtSBl5ezavqMX0jBf7Bf-1v0Q-JIyq8VYExgK5hdZEoam1HlCJ7kpli-QFb2VMmUPYEKaME3y9ZN-3rcJHc11qbbVzzIGrMT6LSkPu0jh2doKsnPD5Q'/>\r\n            <div className={classes.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport { logout} from \"../../redux/auth-reducer\";\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login\r\n    }\r\n)\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport style from \"./../common/FormsControls/FormsControls.module.css\"\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n\r\n            {createField(\"Email\", \"email\", [required], Input)}\r\n            {createField(\"Password\", \"password\", [required], Input, {type: \"password\"})}\r\n            {createField( null,\"rememberMe\", [], Input, {type: \"checkbox\"}, \"remember me\")}\r\n\r\n            {error && <div className={style.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import React, {Component} from \"react\";\r\n\r\nexport const  withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    };\r\n}\r\n","import React, {Component} from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport { Route, withRouter} from \"react-router-dom\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport LoginPage from \"./components/Login/Login\";\nimport {connect} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport {withSuspense} from \"./hoc/withSuspense\";\n\nconst DialogsContainer = React.lazy( () => import( './components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy( () => import( './components/Profile/ProfileContainer'));\n\nclass App extends Component {\n\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n    render() {\n        if(!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Navbar/>\n                <div className='app-wrapper-content'>\n\n                    <Route path='/dialogs'\n                           render={withSuspense(DialogsContainer)} />\n\n                    <Route path='/profile/:userId?'\n                           render={withSuspense(ProfileContainer)} />\n\n                    <Route path='/users'\n                           render={() => <UsersContainer/>}/>\n\n                    <Route path='/login'\n                           render={() => <LoginPage/>}/>\n\n                    <Route path='/news' component={ProfileContainer}/>\n                    <Route path='/music' component={ProfileContainer}/>\n                    <Route path='/setting' component={ProfileContainer}/>\n                </div>\n            </div>\n\n        )\n    }\n}\n\nconst  mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n})\nexport default compose(\n    withRouter,\n    connect(mapStateToProps, {initializeApp}))(App);","import store from \"./redux/redux-store\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {HashRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\n\nReactDOM.render(\n    <HashRouter>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </HashRouter>, document.getElementById('root'));\n\n","import React from \"react\";\r\nimport styles from \"./FormsControls.module.css\"\r\nimport {required} from \"../../../utils/validators/validators\";\r\nimport {Field} from \"redux-form\";\r\n\r\nconst FormControl = ({input, meta: {touched,error}, children}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => (\r\n    <div>\r\n        <Field placeholder={placeholder} name={name}\r\n               validate={validators}\r\n               component={component}\r\n               {...props}\r\n        /> {text}\r\n    </div>\r\n)\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__jJROY\",\"error\":\"FormsControls_error__1WhD8\",\"formSummaryError\":\"FormsControls_formSummaryError__2Okwb\"};","export const required = value => {\r\n    if (value) return undefined;\r\n\r\n    return \"Field is required\";\r\n}\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}","import preLoader from \"../../../assets/images/Spin-1s-200px.svg\";\r\nimport React from \"react\";\r\n\r\nlet Preloader = (props) => {\r\n    return   <div style = { {backgroundColor: 'white'}}>\r\n        <img src={preLoader} />\r\n    </div>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3a0a4\",\"pageNumber\":\"Paginator_pageNumber__2WV0u\",\"selectedPage\":\"Paginator_selectedPage__25qXp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1ZqE2\",\"loginBlock\":\"Header_loginBlock__13WhE\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Hi, how are you?', likesCount: 12},\r\n        {id: 2, message: 'It\\'s my first post', likesCount: 10},\r\n        {id: 3, message: 'Blablabla', likesCount: 12},\r\n        {id: 4, message: 'Dada', likesCount: 12},\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            };\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.id)\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\r\nexport const deletePostActionCreator = (id) => ({type: DELETE_POST, id})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n}\r\nexport default profileReducer;"],"sourceRoot":""}